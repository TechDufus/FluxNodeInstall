---
- name: Create .flux dir if it doesn't exist
  ansible.builtin.file:
    path: "{{ daemon.path }}"
    mode: "0775"
    state: directory
    owner: "{{ global.user }}"
    group: "{{ global.user }}"

- name: Starting Bootstrap Download
  ansible.builtin.debug:
    msg: Starting bootstrap download, which will take a while.
  run_once: true

- name: Download and unpack bootstrap
  ansible.builtin.unarchive:
    remote_src: true
    src: "{{ daemon.bootstrap_url }}"
    dest: "{{ daemon.path }}"
    mode: "0644"
